<div [dir]="locale.dir" [ngClass]="{ 
        'ni-datetime-picker': true, 
        'ni-inline': inline
    }">
    <div class="ni-inputs">
        <input *ngIf="!inline" [value]="_inputFormatted" [placeholder]="placeholder" readonly
            class="ni-input" (focus)="_inputFocused($event)" (blur)="_inputBlured($event)">
        <div class="ni-picker-btn" (click)="_pickerClicked($event)">
        </div>
        <div *ngIf="value" class="ni-clear-btn" (click)="_clearClicked($event)">
            ╳
        </div>
    </div>
    <div *ngIf="openDialog" class="ni-dialog-container">
        <div *ngIf="!inline" class="ni-dialog-overlay" (click)="_overlayClicked($event)"></div>
        <div class="ni-dialog" [ngStyle]="{width: dialogWidth}">
            <div class="ni-dialog-header">
                <div *ngIf="datePicker || monthPicker" class="ni-dialog-nav-btn ni-backward"
                    (click)="_navToPreviousView()">
                    ⌃
                </div>
                <div class="ni-dialog-title" (click)="_headerClicked($event)">
                    {{ _title }}
                </div>
                <div *ngIf="datePicker || monthPicker" class="ni-dialog-nav-btn ni-forward"
                    (click)="_navToNextView()">
                    ⌃
                </div>
            </div>
            <div class="ni-dialog-content">
                <div *ngIf="monthPicker || datePicker" class="ni-months"
                    (wheel)="_navByScroll(_scrollIncrement($event))">
                    <div *ngFor="let viewMonth of _viewMonths" [ngClass]="{
                            'ni-month': true,
                            'ni-month-picker': monthPicker,
                            'ni-month-with-weeknums': showWeekNums
                        }" [ngStyle]="{ width: monthWidth }">
                        <div *ngIf="numberOfMonths > 1" class="ni-month-title"
                            (click)="_monthDateClicked(viewMonth)">
                            {{ viewMonth.title }}
                        </div>
                        <div *ngIf="datePicker && !monthPicker" class="ni-month-weekdays">
                            <span class="ni-month-weeknums-header">
                                {{ locale.week }}
                            </span>
                            <span *ngFor="let weekday of viewMonth.weekdays; let i = index;"
                                [ngClass]="{
                                    'ni-month-weekday': true,
                                    'ni-month-weekend': weekday.weekend
                                }">
                                {{ weekday.title }}
                            </span>
                        </div>
                        <div *ngIf="datePicker && !monthPicker" class="ni-month-body">
                            <div class="ni-month-weeknums">
                                <span *ngFor="let weeknum of viewMonth.weeknums"
                                    class="ni-month-weeknum">
                                    {{ weeknum }}
                                </span>
                            </div>
                            <div class="ni-month-dates">
                                <span *ngFor="let date of viewMonth.dates" [ngClass]="{
                                        'ni-month-date': true,
                                        'ni-month-date-prev-month': date.prev,
                                        'ni-month-date-next-month': date.next,
                                        'ni-month-date-disabled': date.disabled,
                                        'ni-month-date-selected': date.selected,
                                        'ni-month-date-weekend': date.weekend,
                                        'ni-month-date-today': date.today
                                    }" (click)="_monthDateClicked(date)">
                                    {{ date.date }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div *ngIf="timePicker" class="ni-timepicker">
                    <div class="ni-timepicker-times">
                        <span class="ni-timepicker-btn ni-increment-btn"
                            (click)="calendar.hours = calendar.hours + 1; _updateTime();">
                            ⌃
                        </span>
                        <span class="ni-timepicker-time ni-timepicker-hour"
                            (wheel)="calendar.hours = calendar.hours + _scrollIncrement($event); _updateTime()">
                            {{ _pad(calendar.hours12, 2) }}
                        </span>
                        <span class="ni-timepicker-btn ni-decrement-btn"
                            (click)="calendar.hours = calendar.hours - 1; _updateTime();">
                            ⌃
                        </span>
                    </div>
                    <div class="ni-timepicker-times">
                        <span class="ni-timepicker-btn ni-increment-btn"
                            (click)="calendar.minutes = calendar.minutes + 1; _updateTime();">
                            ⌃
                        </span>
                        <span class="ni-timepicker-time ni-timepicker-minute"
                            (wheel)="calendar.minutes = calendar.minutes + _scrollIncrement($event); _updateTime()">
                            {{ _pad(calendar.minutes, 2) }}
                        </span>
                        <span class="ni-timepicker-btn ni-decrement-btn"
                            (click)="calendar.minutes = calendar.minutes - 1; _updateTime();">
                            ⌃
                        </span>
                    </div>
                    <div class="ni-timepicker-times">
                        <span class="ni-timepicker-btn ni-increment-btn"
                            (click)="calendar.seconds = calendar.seconds + 1; _updateTime();">
                            ⌃
                        </span>
                        <span class="ni-timepicker-time ni-timepicker-second"
                            (wheel)="calendar.seconds = calendar.seconds + _scrollIncrement($event); _updateTime()">
                            {{ _pad(calendar.seconds, 2) }}
                        </span>
                        <span class="ni-timepicker-btn ni-decrement-btn"
                            (click)="calendar.seconds = calendar.seconds - 1; _updateTime();">
                            ⌃
                        </span>
                    </div>
                    <div class="ni-timepicker-times">
                        <span class="ni-timepicker-btn ni-increment-btn"
                            (click)="calendar.am = !calendar.am; _updateTime();">
                            ⌃
                        </span>
                        <span class="ni-timepicker-time ni-timepicker-ampm"
                            (wheel)="calendar.am = !calendar.am; _updateTime(); $event.preventDefault();">
                            {{ locale.ampm[calendar.am ? 0 : 1] }}
                        </span>
                        <span class="ni-timepicker-btn ni-decrement-btn"
                            (click)="calendar.am = !calendar.am; _updateTime();">
                            ⌃
                        </span>
                    </div>
                </div>

                <div *ngIf="enableLocaleSwitch" class="ni-locale-switches" dir="ltr">
                    <div [ngClass]="{ 
                            'ni-locale-switch': true, 
                            'ni-locale-switch-selected': locale.name === 'en_US', 
                            'ni-locale-en_US': true
                        }" (click)="_updateLocale('en_US')">
                        <span class="ni-locale-icon ni-en_US"></span>
                    </div>
                    <div [ngClass]="{ 
                            'ni-locale-switch': true, 
                            'ni-locale-switch-selected': locale.name === 'fa_IR', 
                            'ni-locale-fa_IR': true
                        }" (click)="_updateLocale('fa_IR')">
                        <span class="ni-locale-icon ni-fa_IR"></span>
                    </div>
                    <div [ngClass]="{ 
                            'ni-locale-switch': true, 
                            'ni-locale-switch-selected': locale.name === 'fa_AF', 
                            'ni-locale-fa_AF': true
                        }" (click)="_updateLocale('fa_AF')">
                        <span class="ni-locale-icon ni-fa_AF"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
